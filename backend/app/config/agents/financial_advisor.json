{
  "id": "financial_advisor",
  "name": "Financial Advisor",
  "description": "I help you manage your finances, create budgets, optimize fees, and plan your transfers more effectively.",
  "parent_agent": "felix",
  "system_prompt_addition": "You are a friendly financial advisor helping users manage their remittance spending and personal finances. Focus on:\n- Understanding their transfer patterns and goals\n- Providing actionable budgeting advice\n- Helping them optimize fees and timing\n- Explaining complex financial concepts simply\n\nBe supportive and non-judgmental. Avoid generic advice - tailor recommendations to their specific situation based on the user context provided.",
  "model_config": {
    "model": "gpt-4o",
    "temperature": 0.6,
    "maxTokens": 1024
  },
  "navigation": {
    "canGoUp": true,
    "canGoHome": true,
    "canEscalate": true
  },
  "context_requirements": [
    "user_profile",
    "transaction_history",
    "product_summaries"
  ],
  "tools": [
    {
      "name": "get_spending_analysis",
      "description": "Analyze user's spending patterns over a period of time",
      "parameters": {
        "type": "object",
        "properties": {
          "period": {
            "type": "string",
            "enum": ["last_7_days", "last_30_days", "last_90_days"],
            "description": "Time period to analyze"
          }
        },
        "required": ["period"]
      },
      "service": "financial_data",
      "method": "get_spending_analysis",
      "requires_confirmation": false
    },
    {
      "name": "get_fee_optimization_tips",
      "description": "Get personalized tips to reduce fees based on user's transfer patterns",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "service": "financial_data",
      "method": "get_fee_optimization_tips",
      "requires_confirmation": false
    },
    {
      "name": "get_savings_recommendations",
      "description": "Get recommendations on how to save money on remittances",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "service": "financial_data",
      "method": "get_savings_recommendations",
      "requires_confirmation": false
    },
    {
      "name": "get_rate_trends",
      "description": "Get exchange rate trends for a specific corridor",
      "parameters": {
        "type": "object",
        "properties": {
          "corridor": {
            "type": "string",
            "enum": ["USD_MXN", "USD_GTM", "USD_HND", "USD_COL"],
            "description": "Currency corridor to analyze"
          },
          "days": {
            "type": "integer",
            "default": 30,
            "description": "Number of days of history"
          }
        },
        "required": ["corridor"]
      },
      "service": "financial_data",
      "method": "get_rate_trends",
      "requires_confirmation": false
    },
    {
      "name": "create_budget_plan",
      "description": "Help user create a budget plan for their remittances",
      "parameters": {
        "type": "object",
        "properties": {
          "monthly_target": {
            "type": "number",
            "description": "Target monthly amount to send"
          },
          "frequency": {
            "type": "string",
            "enum": ["weekly", "biweekly", "monthly"],
            "description": "How often to send"
          },
          "recipient_country": {
            "type": "string",
            "description": "Primary recipient country"
          }
        },
        "required": ["monthly_target", "frequency"]
      },
      "service": "financial_data",
      "method": "create_budget_plan",
      "requires_confirmation": false
    }
  ],
  "subflows": [],
  "response_templates": [
    {
      "name": "spending_analysis_response",
      "trigger": {
        "type": "tool_success",
        "toolName": "get_spending_analysis"
      },
      "template": "Here's your spending analysis for {{period}}:\n\nTotal sent: ${{total_spent}}\nCategories:\n{{#categories}}* {{name}}: ${{amount}}\n{{/categories}}\n\nWould you like tips on how to optimize your spending?",
      "enforcement": "suggested"
    },
    {
      "name": "fee_tips_response",
      "trigger": {
        "type": "tool_success",
        "toolName": "get_fee_optimization_tips"
      },
      "template": "Here are some ways to save on fees:\n\n{{#tips}}Tip: {{title.en}}\n{{description.en}}\nPotential savings: ${{potential_savings}}/month\n\n{{/tips}}",
      "enforcement": "suggested"
    }
  ],
  "test_scenarios": [
    {
      "name": "budget_help_entry",
      "description": "User asks for help with budgeting",
      "messages": [
        {"role": "user", "content": "I want help creating a budget for my remittances"},
        {"role": "assistant", "contains": "budget"}
      ]
    },
    {
      "name": "fee_optimization",
      "description": "User asks about reducing fees",
      "messages": [
        {"role": "user", "content": "How can I pay less in fees?"},
        {"role": "assistant", "contains": "fee"}
      ]
    }
  ]
}
